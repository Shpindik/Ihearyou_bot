# Backend API - "–Ø —Ç–µ–±—è —Å–ª—ã—à—É"

## üìã –û–±–∑–æ—Ä

FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è Telegram-–±–æ—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–æ–¥–∏—Ç–µ–ª–µ–π –¥–µ—Ç–µ–π —Å –Ω–∞—Ä—É—à–µ–Ω–∏–µ–º —Å–ª—É—Ö–∞.

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞, –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã.

## –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–±–µ–∑ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
1. Telegram-–±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST `/api/v1/telegram-user/register` —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. `TelegramUserService` —Å–æ–∑–¥–∞–µ—Ç –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î —á–µ—Ä–µ–∑ UPSERT
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –º–µ–Ω—é —á–µ—Ä–µ–∑ GET `/api/v1/menu-items/`
4. –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ POST `/api/v1/user-activities/`

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Å JWT)
1. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ POST `/api/v1/admin/auth/login`
2. –ü—Ä–∏ —É—Å–ø–µ—Ö–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è JWT-—Ç–æ–∫–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-—Ñ—É–Ω–∫—Ü–∏—è–º
3. –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ `HTTPBearer` dependency
4. –î–∞–Ω–Ω—ã–µ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã –∏ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- `DATABASE_URL` ‚Äî —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL
- `POSTGRES_USER`, `POSTGRES_PASSWORD`, `POSTGRES_DB`, `DB_HOST`, `DB_PORT` ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `JWT_SECRET_KEY` ‚Äî —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ JWT —Ç–æ–∫–µ–Ω–æ–≤
- `JWT_ALGORITHM` ‚Äî –∞–ª–≥–æ—Ä–∏—Ç–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é HS256)
- `JWT_ACCESS_TOKEN_EXPIRE_MINUTES` ‚Äî –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ access —Ç–æ–∫–µ–Ω–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 60)
- `JWT_REFRESH_TOKEN_EXPIRE_DAYS` ‚Äî –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ refresh —Ç–æ–∫–µ–Ω–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 7)

### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- `ADMIN_USERNAME` ‚Äî –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é admin)
- `ADMIN_PASSWORD` ‚Äî –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é admin12345)
- `ADMIN_EMAIL` ‚Äî email –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### Telegram Bot
- `BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- `LOG_LEVEL` ‚Äî —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é INFO)

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
backend/
‚îú‚îÄ‚îÄ api/                    # HTTP —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ v1/                # API –≤–µ—Ä—Å–∏–∏ 1
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin/         # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (JWT)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bot/           # Bot API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ public/        # –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ routers.py         # –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ core/                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ config.py          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ db.py              # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ exceptions.py      # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ security.py        # JWT –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
‚îú‚îÄ‚îÄ crud/                   # –û–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ base.py            # –ë–∞–∑–æ–≤—ã–π CRUD –∫–ª–∞—Å—Å
‚îÇ   ‚îú‚îÄ‚îÄ content_file.py    # CRUD –¥–ª—è —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ menu_item.py       # CRUD –¥–ª—è –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ telegram_user.py   # CRUD –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Telegram
‚îÇ   ‚îî‚îÄ‚îÄ user_activity.py   # CRUD –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ models/                 # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ admin_user.py      # –ú–æ–¥–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ content_file.py    # –ú–æ–¥–µ–ª—å —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ enums.py           # Enum —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ menu_item.py       # –ú–æ–¥–µ–ª—å –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ notification.py    # –ú–æ–¥–µ–ª—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ question.py        # –ú–æ–¥–µ–ª—å –≤–æ–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ reminder_template.py # –ú–æ–¥–µ–ª—å —à–∞–±–ª–æ–Ω–æ–≤ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ telegram_user.py   # –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Telegram
‚îÇ   ‚îî‚îÄ‚îÄ user_activity.py   # –ú–æ–¥–µ–ª—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ schemas/                # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ admin/             # –°—Ö–µ–º—ã –¥–ª—è –∞–¥–º–∏–Ω API
‚îÇ   ‚îú‚îÄ‚îÄ bot/               # –°—Ö–µ–º—ã –¥–ª—è Bot API
‚îÇ   ‚îî‚îÄ‚îÄ public/            # –°—Ö–µ–º—ã –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ API
‚îú‚îÄ‚îÄ services/               # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ admin_user.py      # –°–µ—Ä–≤–∏—Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ content_file.py    # –°–µ—Ä–≤–∏—Å —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ menu_item.py       # –°–µ—Ä–≤–∏—Å –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ notification.py    # –°–µ—Ä–≤–∏—Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ question.py        # –°–µ—Ä–≤–∏—Å –≤–æ–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ reminder_template.py # –°–µ—Ä–≤–∏—Å —à–∞–±–ª–æ–Ω–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ telegram_user.py   # –°–µ—Ä–≤–∏—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Telegram
‚îÇ   ‚îî‚îÄ‚îÄ user_activity.py   # –°–µ—Ä–≤–∏—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ validators/             # –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ admin_user.py      # –í–∞–ª–∏–¥–∞—Ç–æ—Ä –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ content_file.py    # –í–∞–ª–∏–¥–∞—Ç–æ—Ä —Ñ–∞–π–ª–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ menu_item.py       # –í–∞–ª–∏–¥–∞—Ç–æ—Ä –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ notification.py    # –í–∞–ª–∏–¥–∞—Ç–æ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ question.py        # –í–∞–ª–∏–¥–∞—Ç–æ—Ä –≤–æ–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ reminder_template.py # –í–∞–ª–∏–¥–∞—Ç–æ—Ä —à–∞–±–ª–æ–Ω–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ telegram_user.py   # –í–∞–ª–∏–¥–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Telegram
‚îÇ   ‚îî‚îÄ‚îÄ user_activity.py   # –í–∞–ª–∏–¥–∞—Ç–æ—Ä –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ alembic/               # –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚îú‚îÄ‚îÄ main.py                # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI
‚îî‚îÄ‚îÄ load_flow_data.py      # –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Make

```bash
# Ubuntu/Debian
sudo apt update && sudo apt install make

# macOS (—Å Homebrew)
brew install make

# Windows (—Å Chocolatey)
choco install make

# –ò–ª–∏ —á–µ—Ä–µ–∑ WSL
sudo apt install make
```

### 2. –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (—Å–æ–∑–¥–∞–Ω–∏–µ .env, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Poetry, —Å–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤)
make setup

# –ò–ª–∏ –ø–æ—à–∞–≥–æ–≤–æ:
# 1. –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
cp .env.example .env

# 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Poetry
make build-poetry

# 3. –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
make build
make up
```

### 3. –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
make dev

# –ò–ª–∏ –ø–æ—à–∞–≥–æ–≤–æ:
make up-build
make migrate
make load-data
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤
make health-check

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
make logs

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
make status
```

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ú–∏–≥—Ä–∞—Ü–∏–∏

```bash
# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –º–∏–≥—Ä–∞—Ü–∏–π
make migrate

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
make migrate-create MESSAGE="–æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"

# –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π
make migrate-history

# –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è
make migrate-current

# –û—Ç–∫–∞—Ç –Ω–∞ –æ–¥–∏–Ω —à–∞–≥
make migrate-downgrade
```

### –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–µ–Ω—é)
make load-data

# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
make db-backup

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞
make db-restore FILE=backup_20241201_120000.sql
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –ó–∞–ø—É—Å–∫ API –ª–æ–∫–∞–ª—å–Ω–æ (–≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏)
make run-uvicorn

# –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ
make run-bot

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
make run-tests

# –¢–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make run-tests-coverage
```

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

```bash
# –õ–∏–Ω—Ç–∏–Ω–≥
make run-lint

# –ê–≤—Ç–æ–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞
make run-lint-fix

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
make run-format

# –ò–ª–∏ —á–µ—Ä–µ–∑ Docker
make lint
make format
```

### –†–∞–±–æ—Ç–∞ —Å Alembic

```bash
# –ó–∞–ø—É—Å–∫ alembic –∫–æ–º–∞–Ω–¥ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏
make run-alembic COMMAND=upgrade head
make run-alembic COMMAND=revision --autogenerate -m "–Ω–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è"
```

### –ö–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏

```bash
# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ Poetry —Å —É–¥–∞–ª–µ–Ω–∏–µ–º —Å—Ç–∞—Ä–æ–≥–æ venv
make rebuild-poetry

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ (—É–¥–∞–ª—è–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ!)
make reset

# –û—á–∏—Å—Ç–∫–∞ Docker —Ä–µ—Å—É—Ä—Å–æ–≤
make clean

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ Docker (–≤–∫–ª—é—á–∞—è volumes) - –û–°–¢–û–†–û–ñ–ù–û!
make clean-all

# –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞
make clean-containers

# –ë—ã—Å—Ç—Ä–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
make stop
```


## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **Swagger UI**: http://localhost:8001/docs
- **ReDoc**: http://localhost:8001/redoc
- **API Health**: http://localhost:8001/health/api
- **DB Health**: http://localhost:8001/health/db

## ‚ö†Ô∏è –°—Ç–∞—Ç—É—Å —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

**‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:**
- `GET /api/v1/menu-items/` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –º–µ–Ω—é
- `GET /api/v1/menu-items/{id}/content` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—É–Ω–∫—Ç–∞ –º–µ–Ω—é
- `POST /api/v1/user-activities/` - –ó–∞–ø–∏—Å—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/v1/telegram-user/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Telegram

**üîÑ –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:**
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞, –ª–æ–≥–∏–∫–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- –ü–æ–∏—Å–∫ –ø–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º (—Å—Ö–µ–º—ã –≥–æ—Ç–æ–≤—ã)
- –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–æ–∫ (—Å—Ö–µ–º—ã –≥–æ—Ç–æ–≤—ã)
- –í–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Å—Ö–µ–º—ã –≥–æ—Ç–æ–≤—ã)

**‚ùå –ó–∞–≥–ª—É—à–∫–∏:**
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- –®–∞–±–ª–æ–Ω—ã –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Clean Architecture:

1. **–ú–æ–¥–µ–ª–∏** (`models/`) - SQLAlchemy –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
2. **CRUD** (`crud/`) - –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î
3. **–°—Ö–µ–º—ã** (`schemas/`) - Pydantic –º–æ–¥–µ–ª–∏ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
4. **–í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã** (`validators/`) - –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
5. **–°–µ—Ä–≤–∏—Å—ã** (`services/`) - –°–ª–æ–∂–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
6. **API** (`api/`) - HTTP —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞

1. –ú–æ–¥–µ–ª—å –≤ `models/`
2. CRUD –≤ `crud/`
3. –°—Ö–µ–º—ã –≤ `schemas/`
4. –í–∞–ª–∏–¥–∞—Ç–æ—Ä –≤ `validators/`
5. –°–µ—Ä–≤–∏—Å –≤ `services/`
6. –≠–Ω–¥–ø–æ–∏–Ω—Ç –≤ `api/v1/`
7. –†–æ—É—Ç–µ—Ä –≤ `api/routers.py`

### Make –∫–æ–º–∞–Ω–¥—ã

#### –ü–æ–º–æ—â—å
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make help` | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –≤—Å–µ–º –∫–æ–º–∞–Ω–¥–∞–º |

#### Poetry –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make poetry-install` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Poetry –≤–µ—Ä—Å–∏–∏ 1.7.1 |
| `make poetry-reinstall` | –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Poetry (—É–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é) |
| `make poetry-config` | –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Poetry (–≤–∫–ª—é—á–∞—è virtualenvs.in-project) |
| `make poetry-lock` | –û–±–Ω–æ–≤–∏—Ç—å lock —Ñ–∞–π–ª —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤–µ—Ä—Å–∏–π –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π |
| `make poetry-lock-no-update` | –û–±–Ω–æ–≤–∏—Ç—å lock —Ñ–∞–π–ª –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π |
| `make poetry-update` | –û–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π |
| `make poetry-show` | –ü–æ–∫–∞–∑–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã |
| `make poetry-export` | –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ requirements.txt |
| `make poetry-shell` | –û—Ç–∫—Ä—ã—Ç—å shell –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏ |

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make install` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ Poetry |
| `make install-dev` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–≤–∫–ª—é—á–∞—è dev) |
| `make install-prod` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–æ–¥–∞–∫—à–Ω –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ |

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make add-main PACKAGE=requests` | –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ main –≥—Ä—É–ø–ø—É |
| `make add-dev PACKAGE=pytest` | –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ dev –≥—Ä—É–ø–ø—É |
| `make remove-package PACKAGE=requests` | –£–¥–∞–ª–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å |

#### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make run-uvicorn` | –ó–∞–ø—É—Å—Ç–∏—Ç—å uvicorn –ª–æ–∫–∞–ª—å–Ω–æ (–ø–æ—Ä—Ç 8000, reload) |
| `make run-bot` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ |
| `make run-tests` | –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã —á–µ—Ä–µ–∑ pytest |
| `make run-tests-coverage` | –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞ |
| `make run-lint` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–∏–Ω—Ç–µ—Ä (ruff) –¥–ª—è backend/ –∏ bot/ |
| `make run-lint-fix` | –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –ª–∏–Ω—Ç–µ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| `make run-format` | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥ (ruff format) |
| `make run-alembic COMMAND=upgrade head` | –ó–∞–ø—É—Å—Ç–∏—Ç—å alembic –∫–æ–º–∞–Ω–¥—ã |

#### Docker –∫–æ–º–∞–Ω–¥—ã
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make build` | –°–æ–±—Ä–∞—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã |
| `make build-no-cache` | –°–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –±–µ–∑ –∫—ç—à–∞ |
| `make up` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –≤ —Ñ–æ–Ω–µ |
| `make up-build` | –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã —Å –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π |
| `make down` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã |
| `make down-volumes` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å—ã –∏ —É–¥–∞–ª–∏—Ç—å volumes |
| `make restart` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã |
| `make restart-api` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ API –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä |
| `make restart-bot` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ Bot –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä |
| `make restart-db` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö |

#### –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make logs` | –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (follow) |
| `make logs-api` | –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ API –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ |
| `make logs-bot` | –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ Bot –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ |
| `make logs-db` | –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö |
| `make logs-frontend` | –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ |
| `make status` | –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ |

#### –†–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make shell-api` | –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É API (bash) |
| `make shell-bot` | –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É Bot (bash) |
| `make shell-db` | –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (psql) |

#### Alembic –º–∏–≥—Ä–∞—Ü–∏–∏
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make migrate` | –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–∂–¥–µ—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ API) |
| `make migrate-create MESSAGE="–æ–ø–∏—Å–∞–Ω–∏–µ"` | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π |
| `make migrate-history` | –ü–æ–∫–∞–∑–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –º–∏–≥—Ä–∞—Ü–∏–π |
| `make migrate-current` | –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –º–∏–≥—Ä–∞—Ü–∏–∏ |
| `make migrate-downgrade` | –û—Ç–∫–∞—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ –æ–¥–∏–Ω —à–∞–≥ |
| `make migrate-reset` | –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–û–°–¢–û–†–û–ñ–ù–û! —É–¥–∞–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ) |

#### –î–∞–Ω–Ω—ã–µ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make load-data` | –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–∂–¥–µ—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ API) |
| `make db-backup` | –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å timestamp |
| `make db-restore FILE=backup.sql` | –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞ |

#### –û—á–∏—Å—Ç–∫–∞
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make clean` | –û—á–∏—Å—Ç–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ Docker —Ä–µ—Å—É—Ä—Å—ã |
| `make clean-all` | –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ Docker (–≤–∫–ª—é—á–∞—è volumes) - –û–°–¢–û–†–û–ñ–ù–û! |
| `make clean-containers` | –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ —Å volumes |

#### –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make deploy-stage` | –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ staging –æ–∫—Ä—É–∂–µ–Ω–∏–∏ |
| `make deploy-stage-down` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å staging –æ–∫—Ä—É–∂–µ–Ω–∏–µ |

#### –£—Ç–∏–ª–∏—Ç—ã
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make health-check` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (HTTP –∫–æ–¥—ã) |
| `make env-check` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env —Ñ–∞–π–ª) |
| `make build-poetry` | –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Poetry —Å –Ω—É–ª—è (install + config + lock + install-dev) |
| `make rebuild-poetry` | –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ Poetry —Å —É–¥–∞–ª–µ–Ω–∏–µ–º .venv |

#### –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make setup` | –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (env + poetry + build + up + migrate) |
| `make dev` | –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (up-build + wait + migrate + logs) |
| `make stop` | –ë—ã—Å—Ç—Ä–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ (alias –¥–ª—è down) |
| `make reset` | –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å –ø—Ä–æ–µ–∫—Ç–∞ (—É–¥–∞–ª—è–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ! down-volumes + clean + rebuild) |
